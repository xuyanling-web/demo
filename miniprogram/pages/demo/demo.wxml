<!--miniprogram/pages/demo.wxml-->
<i-panel title="添加用户">
    <i-input value="{{ name }}"  title="名字" placeholder="请输入名字" maxlength="50" bind:blur="insName" />
    <i-input value="{{ tel }}"  title="联系电话" maxlength="50" placeholder="请输入手机号" bind:blur="insTel" />
    <i-button type="success" size="small" bind:click="add" >新增</i-button>
</i-panel>

  

<i-panel title="用户列表">
<view class="userList" wx:if="{{userList.length>0}}">
 <view class="listItem" wx:for="{{userList}}" wx:key="index">
   <view>姓名:{{item.name}}</view>
   <view>手机号:{{item.tel}}</view>
   <i-button type="primary" size="small" bind:click="handleOpen" data-id="{{item._id}}">修改</i-button>
   <i-button type="error" size="small" bind:click="delete" data-id="{{item._id}}">删除</i-button>
 </view>
</view>
</i-panel>

<!-- 模态框 -->
<i-modal visible="{{ isOpen }}" bind:ok="handleUpdate" bind:cancel="handleClose">
     <i-input value="{{ newName }}"  title="名字" placeholder="请输入名字" maxlength="50" bind:blur="insNewName" />
     <i-input value="{{ newTel }}"  title="联系电话" maxlength="50" placeholder="请输入手机号" bind:blur="insNewTel" />
</i-modal>
  
  
